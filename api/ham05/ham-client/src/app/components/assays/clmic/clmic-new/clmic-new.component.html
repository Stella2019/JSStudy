<!-- <p>
  clmic-new works!
</p> -->


<form class="row" [formGroup]="form">
  <div class="col-sm"><h3>Profile form</h3>
    <div class="form-group"><label>LastName
      <small class="text-info">(field only specified in profile form)</small>
    </label> <input class="form-control" formControlName="lastName"></div>
    
    <app-profile-common [formGroup]="form"></app-profile-common>
    
    <hr>
    
    <ng-container *ngIf="form.controls['units'] && form.controls['units']['controls']">
      <div *ngFor="let group of form.controls['units']['controls']; let i = index">
        <app-form-article [formGroup]="group"></app-form-article>
        <a href="javasript:;" (click)="removeUnit(i)">Remove Note (from profile)</a>
        <hr>
      </div>
    </ng-container>
    <a href="javasript:;" (click)="addUnit()">+ Add note</a>
  </div>
  
  <div class="col-sm"><h3>Profile form value</h3>
    <pre>
      <code>
        {{form.value | json}}
      </code>
    </pre>
  </div>
</form>